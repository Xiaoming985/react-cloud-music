{"version":3,"sources":["assets/music.png","assets/music-list.png","components/Header/index.jsx","utils/http.js","store/constant.js","store/actions/music.js","pages/Index/Recommend/index.jsx","api/api.js","pages/Index/index.jsx","pages/MusicVideo/index.jsx","router/index.js","components/Player/index.jsx","layouts/index.jsx","App.js","store/reducers/playList.js","store/index.js","store/reducers/music.js","reportWebVitals.js","index.js","components/Player/player.module.css"],"names":["Header","state","current","handleClick","e","setState","key","props","history","replace","match","url","this","onClick","selectedKeys","mode","className","Item","Component","withRouter","tip","msg","message","error","content","style","marginTop","instance","axios","create","baseURL","process","timeout","withCredentials","headers","interceptors","request","use","config","err","Promise","reject","response","res","data","status","other","localStorage","removeItem","setTimeout","console","log","errHandle","window","navigator","onLine","PLAY_MUSIC","ADD_MUSIC","playMusic","type","addMusic","Recommend","banner","songList","newSongs","active","undefined","handlePlay","item","addMusicToPlayList","id","http","method","params","then","banners","getRecommendSongList","limit","result","getRecommendNewSongs","autoplay","slidesToShow","lazyLoad","centerMode","variableWidth","map","src","imageUrl","alt","targetId","require","default","picUrl","name","index","join","padStart","song","alias","length","artists","ele","shape","size","block","icon","CaretRightOutlined","PlusOutlined","connect","dispatch","Index","path","to","MusicVideo","Routers","component","MV","Player","playing","max","currentTime","audio","React","createRef","handleSwitch","flag","playList","findIndex","music","idx","warning","play","pause","handleTimeUpdate","duration","handleDurationChange","handlePlaying","handlePause","handleEnded","handleSliderChange","value","formatDuration","Math","floor","toString","round","prevProps","display","alignItems","width","height","preview","flex","justifyContent","StepBackwardOutlined","playerStyle","PauseCircleFilled","PlayCircleFilled","StepForwardOutlined","padding","tooltipVisible","disabled","onChange","ref","onTimeUpdate","onPlaying","onPause","onEnded","HeartOutlined","RollbackOutlined","trigger","defaultValue","SoundOutlined","arrowPointAtCenter","MenuUnfoldOutlined","Footer","Layout","Sider","Content","IndexLayout","collapsed","toggle","menuClick","iconClass","theme","collapsible","overflowX","overflowY","borderRight","backgroundColor","textAlign","MenuOutlined","title","defaultSelectedKeys","ItemGroup","SearchOutlined","CustomerServiceFilled","YoutubeOutlined","TeamOutlined","PlayCircleOutlined","DownloadOutlined","ClockCircleOutlined","CloudOutlined","AudioOutlined","FolderAddOutlined","BarsOutlined","flexWrap","flexDirection","borderTop","position","bottom","minHeight","UserOutlined","textOverflow","overflow","whiteSpace","marginLeft","MailOutlined","SettingOutlined","App","store","createStore","combineReducers","preState","action","exist","some","composeWithDevTools","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4958ad15.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAAD30lEQVRYR71YzXnbRhSc93KgbpEvMXkKwAZiV2CyAlMVhK7AdAWhKrBSgegKTFUgpgJDDRDwiXQupm6J83kn3y4IcPFHAvok4yQR+zM7b968txD8gGcTYCSqtyATiAQgdwAikMse8OFZAvt/4ZEfgMttsRnqXIA/KvuROxG5er42l/67VsC+Bjj/D3hN1RHJkTu1/1gGBCsYrgjcDBIkdQfehhJB5LdaMshVj7zI2DsKzAL6pvqW5Awi5+3Z5VINL39JEPlzNgECUYkA+bkBXNSP+dK+awT2JcCEItfdAFW2u+oZc+lraDvEDND36UjzjpSJiLzyZv7ZX5tZLbAvQ70mMG3P0JGRZNQjxwVw+5CS+DCIzdQyCdUpyKmI/EpjxhVgjwoqw0smJMeZ9vIsBaDGvPRDbiNlgPMCsO1QrwC8fRSmyouUmNuEuhDB7yBX/ZjjRrtwmlL9+CSg8kW57K954ezDJYLG9m8aE5Yz2TFms+9fkU8VG3gClFY/gwQrB27PWqa1io81mt8TAPND52utzJpjbBtK3Jot8kbIhQEiS//fAV58V50IOGv0p9IBfcFvQklsJlrr6K9hNe4e8VEfJ4j3NJwNEizqxjnNiCwbnb0w6QAijxaZ9GOGB2BNNay0O41544OyTNkhfqo7raokdcyR/AxyfgYsfU9rCqdsQlmVnLdKCHnXj+mA7BPlI0RGbiCZKHmRAdwEmIrq9WER3gOc+2HyNyhlZ354aaevA/Xb0IXrdQE9ueuRoWUiZU2/pu95r4Yjn1UL5CfgFVUDGhMp8NmofnKjgcvB2sydxrZD5ank81O8aXzdGP+3fUPw/mipI2/6MSd7YLI7lU0PAeaffh/+W4g4OTQ9vp+105iXynVlywr7jHxhQ5lppmfMs0zk21AsqFSTx4AVQlmnmfJkL5Xt6f8RvXJ1LhX/nZLTXPw2y8lJliw2ezMNnQTmlSZp7/pFA8wy1E99B0LklsDdIKZjqLVPevpyGut4ooKX+QzsQVkbCUj+5QHLi/XRMHo11AFzp8rLwimyXehWSi4EaV//3fZOqpNythU0dqKdKpv3AVjFFFsA7CBkO9S21KTM0rqYPpZZWw2ybsNfMm8Uj95gHoKT3Ck5rruQAAjOgKjuPpltlQNrLdIuIO2dkXzzPMGyy7Q8lNmkap3rulzDeDIi+a4uZE07VC4jeS/+SJgyr+uRo2OhK29Xe317VObImx457QKqEkoftdUcRBZ+FnUj8XhjeWqtk98uLHsQmbcHyHtSlmc0s64s1drFqRNkvT3sRxW4Njr1I/KOsJ+RJFGa5UMysG7v/wEBM2bt7gf5AwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC4ElEQVRYR+2WwXXaQBCG/xkfOCY+xEYnSzRgOrBcQZwKgisIHRgqiFNBcAWhA+QKQhoA5QTJxfiWHDyTN4uWJywhBCHPl+gorWa+/effmSW88EMvnB//AfZSYBYiJuCcmF9bCVVkcQSM36S437WktQFmIUJmvlHVKxC5xIVHdUFEQxHpBynSOjC1AOYtvgXwYRlQH1VpCELKImN7I8xtUm2DEAP0yt4R0DudSH8bRCXAQ4jXv4m+gCi2xID2mhMYTOlj638xdwnaXYLosCF6fZxisemfSoB5RGMQnUP1W0M1rgqUT2DlslJk/ybNqV7uDLCSfcfkPlGmXuIggE/NiXTLIEoV+BmiLcxfTfaGaFh3588TOCWYxlYOFYnKjFkKMI+cfG8V6AcT6W0zUtX3WYt7BNyo4i6YSuf52gKAk475wRY2RI733f1aKbJ4zYkU8hVezEJ0iPnzJuJ91JhFlBDRBYm8O00xzMcoAnjJDiC/T7QqQ0nMIkDEAyK8h6pRJyJyH6RI9tp5iJiZL1Q1tl5S5qk1AJMfQGoJvWxQXTSnerwXQCa9qt4HU41thhwBZycp7nw8B5Cd2RGI2ipyuQYAoMw8dYD8JvIAxDwiYHA6keusZQOr3S4n21aArNONVNXWbhw6mwAyeNecyI1W5pHfUU0A94+tPQIWT0A7SDEoNKKSEjzLFZF36L4AYI6h2gmmGu4MAPTJd72/BIjNZLsC2Iyg9Vlf7YFZxANWGQqw8CXIFHAApiZE7BS5cmzxAOxY0ryFLsAf6ygwb7HaTxBJSgEisumX+PmxFUDkmtwlgmhMRGcGUWXCQwKo6nfzjesDP0JcKdMgG5sbj+HhAPSRReOTFONVJ7Q7wJPdYszR+U6Ya0QHASC6ZdWOJV81orx7rSQ2gl1bZg7XTLU0mc2FFMwdiJjZ7PiFZrx8K/fK2oXVx/CxK6dhnRZ7yDW1ruWHTLj1RvQvk5XFfnEF/gCdp2N/YZJjOAAAAABJRU5ErkJggg==\"","import React, { Component } from 'react'\r\nimport { Menu } from 'antd';\r\nimport {withRouter} from \"react-router\"\r\nimport './header.css'\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    current: 'recommend',\r\n  };\r\n\r\n  handleClick = e => {\r\n    this.setState({ current: e.key });\r\n    this.props.history.replace(`${this.props.match.url}/${e.key}`);\r\n  };\r\n\r\n  render() {\r\n    const { current } = this.state;\r\n    return (\r\n      <Menu onClick={this.handleClick} selectedKeys={[current]} mode=\"horizontal\" className=\"header-menu\">\r\n        <Menu.Item key=\"recommend\">\r\n          个性推荐\r\n        </Menu.Item>\r\n        <Menu.Item key=\"songList\">\r\n          歌单\r\n        </Menu.Item>\r\n        <Menu.Item key=\"broadcast\">\r\n          主播电台\r\n        </Menu.Item>\r\n        <Menu.Item key=\"new\">\r\n          最新音乐\r\n        </Menu.Item>\r\n        <Menu.Item key=\"musician\">\r\n          歌手\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Header)","import axios from 'axios'\r\nimport { message } from 'antd'\r\n\r\n/** \r\n * 错误信息提示函数\r\n */\r\n const tip = msg => {\r\n  message.error({\r\n    content: msg,\r\n    style: {\r\n      marginTop: '20vh',\r\n    }\r\n  });\r\n}\r\n\r\n/** \r\n * 跳转登录页\r\n * 携带当前页面路由，用以在登录页面完成登录后返回当前页面\r\n */\r\n const toLogin = () => {\r\n  \r\n}\r\n\r\n/** \r\n * 请求失败后的错误统一处理 \r\n * @param {Number} status 请求失败的状态码\r\n */\r\nconst errHandle = (status, other) => {\r\n  // 状态码判断\r\n  switch (status) {\r\n    // 401: 未登录状态，跳转登录页\r\n    case 401:\r\n        toLogin();\r\n        break;\r\n    // 403 token过期\r\n    // 清除token并跳转登录页\r\n    case 403:\r\n        tip('登录过期，请重新登录');\r\n        localStorage.removeItem('token');\r\n        setTimeout(() => {\r\n            toLogin();\r\n        }, 1000);\r\n        break;\r\n    // 404请求不存在\r\n    case 404:\r\n        tip('404: 请求的资源不存在'); \r\n        break;\r\n    default:\r\n        console.log(other);   \r\n  }\r\n}\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_URL,\r\n  timeout: 30 * 1000,\r\n  withCredentials: true,\r\n  headers: {\r\n    \"Content-Type\": \"application/json;charset=utf-8\"\r\n  }\r\n})\r\n// instance.defaults.withCredentials = false\r\n\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // modify config and then return it \r\n    return config\r\n  },\r\n  err => {\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\ninstance.interceptors.response.use(\r\n  res => {\r\n    return res.data // return Promise.resolve(res.data)\r\n  },\r\n  err => {\r\n    const { response } = err\r\n    if (response) {\r\n      // 请求已发出，但是不在2xx的范围\r\n      errHandle(response.status, response.data.message)\r\n      return Promise.reject(response)\r\n    } else {\r\n      // 处理断网的情况\r\n      if (!window.navigator.onLine) {\r\n        \r\n      } else {\r\n        return Promise.reject(err)\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nexport default instance;","export const PLAY_MUSIC = \"play_music\"\r\nexport const ADD_MUSIC = 'add_music'","import { PLAY_MUSIC, ADD_MUSIC } from \"../constant\"\r\n\r\nexport const playMusic = data => ({type: PLAY_MUSIC, data})\r\nexport const addMusic = data => ({type: ADD_MUSIC, data})","import React, { Component } from 'react'\r\nimport { getBanner, getRecommendSongList, getRecommendNewSongs } from \"@/api/api\"\r\nimport { Button, Carousel } from 'antd'\r\nimport { CaretRightOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport'./index.less'\r\nimport { connect } from 'react-redux'\r\nimport { playMusic, addMusic } from \"@/store/actions/music\"\r\nclass Recommend extends Component {\r\n\r\n  state = {\r\n    banner: [],\r\n    songList: [],\r\n    newSongs: [],\r\n    active: undefined\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 获取轮播图\r\n    getBanner({}).then(res => {\r\n      this.setState({\r\n        banner: res.banners\r\n      })\r\n    })\r\n    // 获取歌单\r\n    getRecommendSongList({limit: 8}).then(res => {\r\n      this.setState({\r\n        songList: res.result\r\n      })\r\n    })\r\n    // 最新音乐\r\n    getRecommendNewSongs().then(res => {\r\n      this.setState({\r\n        newSongs: res.result\r\n      })\r\n    })\r\n  }\r\n\r\n  handlePlay = (item) => {\r\n    this.props.playMusic(item)\r\n  }\r\n\r\n  addMusicToPlayList = (item) => {\r\n    // console.log(item)\r\n    this.props.addMusic(item)\r\n  }\r\n\r\n  handleClick = (item) => {\r\n    this.setState({\r\n      active: item.id\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { banner, songList, newSongs, active } = this.state \r\n    return (\r\n      <div className=\"recommend-wrap\">\r\n        <Carousel\r\n          autoplay={true}\r\n          slidesToShow={3}\r\n          lazyLoad={true}\r\n          centerMode={true}\r\n          variableWidth={false}\r\n        >\r\n          {\r\n            banner.map(item => {\r\n              return (\r\n                // <div key={item.targetId} style={{display:'flex',justifyContent:'center'}}>\r\n                  <img src={item.imageUrl} alt=\"\" key={item.targetId} className=\"carousel\" />\r\n                // </div>\r\n              )\r\n            })\r\n          }\r\n        </Carousel>\r\n        <div className=\"daily\">\r\n          <div className=\"daily-item\">\r\n            <div className=\"item-img__wrap\">\r\n              <img src=\"\" alt=\"\" className=\"item-img\" />\r\n            </div>\r\n            <div>\r\n              <span className=\"item-title\">私人FM</span>\r\n              <span className=\"item-desc\">享受你的音乐专属推荐</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"daily-item daily-mid\">\r\n            <div className=\"item-img__wrap\">\r\n              <img src=\"\" alt=\"\" className=\"item-img\" />\r\n            </div>\r\n            <div>\r\n              <span className=\"item-title\">每日歌曲推荐</span>\r\n              <span className=\"item-desc\">根据你的口味生成</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"daily-item\">\r\n            <div className=\"item-img__wrap\">\r\n              <img src=\"\" alt=\"\" className=\"item-img\" />\r\n            </div>\r\n            <div>\r\n              <span className=\"item-title\">排行榜</span>\r\n              <span className=\"item-desc\">最热音乐榜</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"section\">\r\n          <span className=\"section-title\">\r\n            <img src={require('../../../assets/music.png').default} alt=\"\" className=\"section-icon\" />推荐歌单\r\n          </span>\r\n          <span className=\"text__more\">更多&gt;</span>\r\n        </div>\r\n        <div className=\"recommend-list\">\r\n          {\r\n            songList.map(item => {\r\n              return (\r\n                <div className=\"recommend-item\" key={item.id}>\r\n                  <img src={item.picUrl + \"?param=150y150\"} alt=\"\" className=\"recommend-item__img\" />\r\n                  <span className=\"recommend-item__title\">{item.name}</span>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n\r\n        <div className=\"section\">\r\n          <span className=\"section-title\">\r\n            <img src={require('../../../assets/music-list.png').default} alt=\"\" className=\"section-icon\" />最新音乐\r\n          </span>\r\n          <span className=\"text__more\">更多&gt;</span>\r\n        </div>\r\n        <div className=\"new-list\">\r\n          {\r\n            newSongs.map((item,index) => {\r\n              return (\r\n                <div className={['new-item', active === item.id ? 'active-item' : ''].join(' ')} key={item.id} onClick={() => this.handleClick(item)}>\r\n                  <div className=\"new-item__index\">{(index + 1 + \"\").padStart(2, \"0\")}</div>\r\n                  <img src={item.picUrl + '?param=50y50'} alt=\"\" className=\"new-item__img\" />\r\n                  <div className=\"new-item__song\">\r\n                    <span className=\"new-item__song-name\">{item.name + (item.song.alias.length > 0 ? `(${item.song.alias.join(\"、\")})` : '')}</span>\r\n                    <span className=\"new-item__song-desc\">{item.song.artists.map(ele => ele.name).join(\"/\")}</span>\r\n                  </div>\r\n                  <div className=\"new-item__ctrl\">\r\n                    <Button type=\"primary\" shape=\"circle\" size=\"small\" block icon={<CaretRightOutlined />} onClick={() => this.handlePlay(item)} />\r\n                    <Button type=\"primary\" shape=\"circle\" size=\"small\" block icon={<PlusOutlined />} onClick={() => this.addMusicToPlayList(item)} />\r\n                  </div>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  (dispatch) => {\r\n    return {\r\n      playMusic: (data) => {\r\n        dispatch(playMusic(data))\r\n        dispatch(addMusic(data))\r\n      },\r\n      addMusic: (data) => {\r\n        dispatch(addMusic(data))\r\n      }\r\n    }\r\n  }\r\n)(Recommend)\r\n","import http from '../utils/http';\r\n\r\n// 获取轮播图 0: pc 1: android 2: iphone 3: ipad\r\nexport function getBanner(data){\r\n  return http({\r\n    url: '/banner',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 获取精品歌单\r\nexport function getSongList(data) {\r\n  return http({\r\n    url: '/top/playlist/highquality',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 新歌速递\r\nexport function getNewSongs(data) {\r\n  return http({\r\n    url: '/top/song',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 推荐歌单\r\nexport function getRecommendSongList(data) {\r\n  return http({\r\n    url: '/personalized',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 推荐新音乐\r\nexport function getRecommendNewSongs(data) {\r\n  return http({\r\n    url: '/personalized/newsong',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 获取音乐url\r\nexport function getMusicUrl(data) {\r\n  return http({\r\n    url: '/song/url',\r\n    method: 'get',\r\n    params: data\r\n  })\r\n}","import React, { Component } from 'react'\r\nimport Header from \"../../components/Header\"\r\nimport Recommend from \"./Recommend\"\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\n\r\nexport default class Index extends Component {\r\n  render() {\r\n    \r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/index/recommend\">\r\n            <Recommend />\r\n          </Route>\r\n          <Route path=\"/index/songList\">歌单</Route>\r\n          <Redirect to=\"/index/recommend\" />\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class MusicVideo extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        MV\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\n// import Header from \"../components/Header\"\r\nimport Index from \"../pages/Index\"\r\nimport MV from \"../pages/MusicVideo\"\r\n\r\nexport default class Routers extends Component {\r\n  render() {\r\n    return (\r\n        <Switch>\r\n          <Route path=\"/index\" component={Index} />\r\n          <Route path=\"/mv\" component={MV} />\r\n          <Redirect to=\"/index\" />\r\n        </Switch>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport { Image, Slider, Popover, message } from 'antd';\r\nimport {\r\n  StepBackwardOutlined,\r\n  PauseCircleFilled,\r\n  PlayCircleFilled,\r\n  StepForwardOutlined,\r\n  HeartOutlined,\r\n  RollbackOutlined,\r\n  SoundOutlined,\r\n  MenuUnfoldOutlined\r\n} from '@ant-design/icons'\r\nimport playerStyle from \"./player.module.css\"\r\nimport { getMusicUrl } from \"@/api/api\"\r\nimport { playMusic } from \"@/store/actions/music\"\r\n\r\nclass Player extends Component {\r\n  state = {\r\n    playing: false, // 是否正在播放\r\n    max: 0, // 最大时长\r\n    currentTime: 0 // 当前播放时长\r\n  };\r\n  audio = React.createRef();\r\n\r\n  /**\r\n   * 切换播放状态\r\n   * @param {String} flag on-播放/暂停 prev-上一首 next-下一首\r\n   */\r\n   handleSwitch = (flag) => {\r\n    if (flag === 'on') {\r\n      this.setState({\r\n        playing: !this.state.playing\r\n      }, () => {\r\n        if (this.state.playing) {\r\n          this.audio.current.play() // 播放\r\n        } else {\r\n          this.audio.current.pause() // 暂停\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    let index = this.props.playList.findIndex(item => item.id === this.props.music.id)\r\n    let length = this.props.playList.length\r\n    if (length === 1) {\r\n      // 播放列表仅一首\r\n      message.warning('no more');\r\n      return;\r\n    }\r\n    let idx = flag === 'prev' \r\n      ? (index - 1) < 0 ? (length - 1) : (index - 1)\r\n      : (index + 1) > (length - 1) ? 0 : (index + 1)\r\n    // console.log(idx);\r\n    this.props.playMusic(this.props.playList[idx])\r\n  }\r\n\r\n  // 当前的播放位置发送改变时触发\r\n  handleTimeUpdate = (e) => {\r\n    // console.log(e);\r\n    this.setState({\r\n      currentTime: this.audio.current.currentTime, // 这里获取到的(单位:s)\r\n      max: this.audio.current.duration\r\n    })\r\n  }\r\n\r\n  // 播放时长改变时回调, 由\"NaN\"变为实际时长也会触发\r\n  handleDurationChange = () => {\r\n    this.handleTimeUpdate()\r\n  }\r\n\r\n  // 当媒介已开始播放时触发\r\n  handlePlaying = () => {\r\n    this.setState({\r\n      playing: true\r\n    })\r\n  }\r\n\r\n  // 暂停时触发\r\n  handlePause = () => {\r\n    this.setState({\r\n      playing: false\r\n    })\r\n  }\r\n\r\n  // 当媒介已到达结尾时触发（PS:可发送类似“播放完毕,感谢收听/观看”之类的消息）。\r\n  handleEnded = () => {\r\n    this.setState({\r\n      currentTime: 0,\r\n      playing: false\r\n    })\r\n  }\r\n\r\n  // 播放进度条改变时回调\r\n  handleSliderChange = (value) => {\r\n    this.audio.current.currentTime = value\r\n  }\r\n\r\n  // 格式化播放时长, duration(单位:ms)\r\n  formatDuration = (duration) => {\r\n    return Math.floor(duration / 1000 / 60).toString().padStart(2, '0') \r\n      + \":\" \r\n      + Math.round(duration / 1000 % 60).toString().padStart(2, '0')\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(this.props.playList);\r\n    // 根据id获取音乐url\r\n    if (!prevProps.music || prevProps.music.id !== this.props.music.id) {\r\n      getMusicUrl({id: this.props.music.id}).then(res => {\r\n        this.audio.current.src = res.data[0].url\r\n        this.audio.current.play()\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.log(this)\r\n    const { max, currentTime } = this.state\r\n    const { music } = this.props\r\n    return (\r\n      <div style={{display: 'flex', alignItems: 'center'}}>\r\n        <Image\r\n          width={70}\r\n          height={70}\r\n          preview={false}\r\n          src={ music ? music.picUrl + '?param=70y70' : \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"}\r\n        />\r\n        <div style={{flex: 1.5, display: 'flex', justifyContent: 'center', alignItems:'center'}}>\r\n          <StepBackwardOutlined className={playerStyle['player-icon__ctrl']} onClick={() => this.handleSwitch('prev')} />\r\n          { \r\n            this.state.playing \r\n              ? <PauseCircleFilled className={playerStyle['player-icon__main']} onClick={() => this.handleSwitch('on')} /> \r\n              : <PlayCircleFilled className={playerStyle['player-icon__main']} onClick={() => this.handleSwitch('on')} />\r\n          }\r\n          <StepForwardOutlined className={playerStyle['player-icon__ctrl']} onClick={() => this.handleSwitch('next')} />\r\n        </div>\r\n        <div style={{flex: 6, padding: '0 10px'}}>\r\n          <div style={{display: 'flex', justifyContent: 'space-between', alignItems:'center', padding: '0 5px'}}>\r\n            <span>\r\n              { music ? music.name + (music.song.alias.length > 0 ? `(${music.song.alias.join(\"、\")})` : '') : '歌曲' } - { music ? music.song.artists.map(ele => ele.name).join(\"/\") : '歌手' }\r\n            </span>\r\n            <span>{ this.formatDuration(currentTime * 1000) } / {`${music ? this.formatDuration(music.song.duration) : '00:00'}`}</span>\r\n          </div>\r\n          <Slider\r\n            value={currentTime}\r\n            max={max}\r\n            tooltipVisible={false}\r\n            disabled={this.props.music ? false : true}\r\n            onChange={this.handleSliderChange}\r\n          />\r\n          <audio\r\n            src=\"\"\r\n            ref={this.audio}\r\n            onTimeUpdate={this.handleTimeUpdate}\r\n            onPlaying={this.handlePlaying}\r\n            onPause={this.handlePause}\r\n            onEnded={this.handleEnded}\r\n          >\r\n            Your browser does not support the audio element.\r\n          </audio>\r\n        </div>\r\n        <div style={{flex: 2, display: 'flex', justifyContent: 'space-around', alignItems:'center'}}>\r\n          <HeartOutlined className={playerStyle['player-icon']} />\r\n          <RollbackOutlined className={playerStyle['player-icon']} />\r\n          <Popover trigger=\"click\" content={<><Slider defaultValue={30} /></>}>\r\n            <SoundOutlined className={playerStyle['player-icon']} />\r\n          </Popover>\r\n          <Popover trigger=\"click\" arrowPointAtCenter content={<>播放列表</>}>\r\n            <MenuUnfoldOutlined className={playerStyle['player-icon']} />\r\n          </Popover>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    music: state.music,\r\n    playList: state.playList\r\n  }),\r\n  dispatch => ({\r\n    playMusic: (data) => dispatch(playMusic(data))\r\n  })\r\n)(Player)\r\n","import React, { Component } from 'react'\r\nimport { Layout, Menu, Avatar } from 'antd'\r\nimport {\r\n  MenuOutlined,\r\n  SearchOutlined,\r\n  CustomerServiceFilled,\r\n  YoutubeOutlined,\r\n  TeamOutlined,\r\n  PlayCircleOutlined,\r\n  CloudOutlined,\r\n  FolderAddOutlined,\r\n  DownloadOutlined,\r\n  ClockCircleOutlined,\r\n  AudioOutlined,\r\n  HeartOutlined,\r\n  BarsOutlined,\r\n  UserOutlined,\r\n  MailOutlined,\r\n  SettingOutlined\r\n} from '@ant-design/icons'\r\nimport Routers from '../router'\r\nimport Player from '../components/Player'\r\nimport \"./index.less\"\r\nimport {withRouter} from \"react-router\"\r\n\r\nconst { Footer, Sider, Content } = Layout;\r\n\r\nclass IndexLayout extends Component {\r\n  state = {\r\n    collapsed: false,\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed,\r\n    });\r\n  };\r\n\r\n  menuClick = (e) => {\r\n    this.props.history.replace(\"/\" + e.key);\r\n  }\r\n\r\n  render() {\r\n    const iconClass = this.state.collapsed ? 'sider-footer__icon sider-footer__icon--collapsed' : 'sider-footer__icon';\r\n    return (\r\n      <Layout style={{width: '100vw', height: '100vh'}}>\r\n        <Layout>\r\n          <Sider \r\n            theme='light'\r\n            collapsible\r\n            collapsed={this.state.collapsed}\r\n            trigger={null}\r\n            style={{overflowX: 'hidden', overflowY: 'auto', borderRight: '0.5px solid rgba(0, 0, 0, 0.1)'}}\r\n          >\r\n            <div style={{backgroundColor: '#fff', textAlign: 'left'}}>\r\n              <MenuOutlined \r\n                onClick={this.toggle}\r\n                style={{padding: this.state.collapsed ? '20px 30px 0' : '20px 24px 0'}}\r\n                title={this.state.collapsed ? '展开' : '收起'}\r\n              />\r\n            </div>\r\n            <div style={{height: 'calc(100% - 87.5px)', overflowY:this.state.collapsed ? 'hidden': 'auto'}}>\r\n              <Menu\r\n                defaultSelectedKeys={['index']}\r\n                mode=\"inline\"\r\n                onClick={this.menuClick}\r\n              >\r\n                <Menu.ItemGroup>\r\n                  <Menu.Item key=\"search\" icon={<SearchOutlined />}>\r\n                    搜索\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"index\" icon={<CustomerServiceFilled />}>\r\n                    发现音乐\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"mv\" icon={<YoutubeOutlined />}>\r\n                    MV\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"friends\" icon={<TeamOutlined />}>\r\n                    朋友\r\n                  </Menu.Item>\r\n                </Menu.ItemGroup>\r\n                { \r\n                  !this.state.collapsed &&\r\n                  <Menu.ItemGroup title=\"我的音乐\">\r\n                    <Menu.Item key=\"local\" icon={<PlayCircleOutlined />}>\r\n                      本地音乐\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"download\" icon={<DownloadOutlined />}>\r\n                      下载管理\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"latest\" icon={<ClockCircleOutlined />}>\r\n                      最近播放\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"cloud\" icon={<CloudOutlined />}>\r\n                      我的音乐云盘\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"broadcast\" icon={<AudioOutlined />}>\r\n                      我的电台\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"collect\" icon={<FolderAddOutlined />}>\r\n                      我的收藏\r\n                    </Menu.Item>\r\n                  </Menu.ItemGroup>\r\n                }\r\n                {\r\n                  !this.state.collapsed &&\r\n                  <Menu.ItemGroup title=\"创建的歌单\">\r\n                    <Menu.Item key=\"like\" icon={<HeartOutlined />}>\r\n                      我喜欢\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"musicList\" icon={<BarsOutlined />}>\r\n                      歌单01\r\n                    </Menu.Item>\r\n                  </Menu.ItemGroup>\r\n                }\r\n              </Menu>\r\n            </div>\r\n            <div \r\n              style={{\r\n                backgroundColor: '#fff',\r\n                display: 'flex', \r\n                flexWrap: 'wrap',\r\n                justifyContent: 'center',\r\n                flexDirection: this.state.collapsed ? 'column' : '',\r\n                padding: '8px 0',\r\n                alignItems: 'center',\r\n                borderTop: '0.5px solid rgba(0, 0, 0, 0.1)',\r\n                position: 'absolute',\r\n                bottom: 0,\r\n                width: '100%',\r\n                minHeight: '50px'\r\n              }}\r\n            >\r\n              <div style={{width: this.state.collapsed ? 'auto' : '60%'}} className=\"user-avatar\">\r\n                <Avatar icon={<UserOutlined />} />\r\n                { \r\n                  !this.state.collapsed && \r\n                  <span \r\n                    style={{\r\n                      textOverflow: 'ellipsis', \r\n                      overflow: 'hidden', \r\n                      whiteSpace: 'nowrap', \r\n                      display: 'inline-block', \r\n                      marginLeft: '5px',\r\n                      width: '60%',\r\n                      textAlign: 'left'\r\n                    }}>\r\n                    用户名\r\n                  </span> \r\n                }\r\n              </div>\r\n              <MailOutlined className={iconClass}/>\r\n              <SettingOutlined className={iconClass} />\r\n            </div>\r\n          </Sider>\r\n          <Content style={{padding: '10px 25px', backgroundColor: '#fff', overflowY: 'auto'}}>\r\n            <Routers />\r\n          </Content>\r\n        </Layout>\r\n        <Footer style={{padding: '0', height: '70px',overflow: 'hidden', backgroundColor: '#fff', borderTop: '0.5px solid rgba(0, 0, 0, 0.1)'}}>\r\n          <Player />\r\n        </Footer>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(IndexLayout)","import './App.less';\nimport Layout from './layouts/index.jsx'\nimport {HashRouter as Router} from 'react-router-dom'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Layout />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { ADD_MUSIC } from \"../constant\"\r\n\r\nconst playList = []\r\n\r\nexport default function musicListReducer(preState = playList, action) {\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case ADD_MUSIC:\r\n      let exist = preState.some(item => item.id === data.id)\r\n      return exist ? preState : [...preState, data]\r\n    default: \r\n      return preState\r\n  }\r\n}","import { createStore, combineReducers, applyMiddleware } from \"redux\"\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport music from \"./reducers/music\"\r\nimport playList from \"./reducers/playList\"\r\nimport thunk from \"redux-thunk\"\r\n\r\n \r\nconst store = createStore(\r\n  combineReducers({\r\n    music,\r\n    playList\r\n  }),// 此处的playList,则通过state.playList获取\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\nexport default store","import { PLAY_MUSIC } from \"../constant.js\"\r\n\r\nconst music = null\r\n\r\nexport default function musicReducer(preState = music, action) {\r\n  const { type, data } = action\r\n  switch (type) {\r\n    case PLAY_MUSIC:\r\n      return data\r\n    default: \r\n      return preState\r\n  }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport reportWebVitals from './reportWebVitals';\n\n// import http from './utils/http';\n// React.Component.prototype.$http = http;\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player-icon\":\"player_player-icon__3pNgk\",\"player-icon__ctrl\":\"player_player-icon__ctrl__2XzOe\",\"player-icon__main\":\"player_player-icon__main__1fY_0\"};"],"sourceRoot":""}